# =============================================================================
# MEGPT - DEVELOPMENT ENVIRONMENT
# =============================================================================
# Copy this file to .env and customize as needed

# ENVIRONMENT MODE
ENV_MODE=dev

# GENERATION MODEL (LM Studio / Ollama / vLLM / etc.)
LLM_BASE_URL="http://localhost:1234/v1"
LLM_API_KEY="lm-studio"
LLM_MODEL_NAME="qwen/qwen3-vl-30b"

# CONTEXT WINDOW SIZE (tokens)
# Adjust based on your model's actual context window
# Context window is automatically managed to prevent overflow:
# - System prompt: ~221 tokens
# - Vector facts: ~150 tokens (retrieved dynamically)
# - Rolling summary: ~75 tokens
# - Recent messages: User messages + last assistant message if brief (<300 chars)
# - LLM response buffer: ~500 tokens
# Smart inclusion: Enables follow-up questions while preventing token explosion
# Common values: 4096 (7B/13B), 8192 (34B), 32768 (70B+)
CONTEXT_WINDOW_SIZE=4096

# EMBEDDING MODEL (For vector storage)
EMBEDDER_BASE_URL="http://localhost:1234/v1"
EMBEDDER_API_KEY="lm-studio"
EMBEDDER_MODEL_NAME="text-embedding-nomic-embed-text-v1.5"

# MEMORY (Qdrant Vector Store)
QDRANT_HOST="localhost"
QDRANT_PORT=6333

# TOOLS
ENABLE_WEB_SEARCH=true

# USER IDENTITY (Memory namespace)
USER_ID="default_user"

# AUTHENTICATION (Optional)
# Set this to require API key for API access
# Leave empty to disable authentication (default for local development)
API_KEY=""

# BACKUP SETTINGS
# Interval in hours (0 = disabled, only manual backups)
BACKUP_INTERVAL_HOURS=0
# Number of backups to keep before rotating
BACKUP_RETENTION_COUNT=10
# Auto-backup before any restore operation
AUTO_BACKUP_BEFORE_RESTORE=true
